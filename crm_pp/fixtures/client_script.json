[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Lead",
  "enabled": 1,
  "modified": "2025-08-21 08:48:37.207222",
  "module": null,
  "name": "progress",
  "script": "const frappe = window.frappe\nconst $ = window.$\n\nfrappe.ui.form.on(\"Lead\", {\n  refresh: (frm) => {\n   const statuses = [\"Lead\", \"Open\", \"Replied\", \"Opportunity\", \"Quotation\", \"Lost Quotation\", \"Unqualified\", \"Converted\"]\n\n    const current_status = frm.doc.status\n    const current_status_index = statuses.indexOf(current_status)\n    const is_last_status = current_status_index === statuses.length - 1\n\n    let html = `\n            <style>\n                .custom-lead-header {\n                    background-color: white;\n                    padding: 20px;\n                    border-radius: 8px;\n                    border: 1px solid #e5e7eb;\n                    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n                    margin-bottom: 20px;\n                }\n                .lead-title-bar {\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    margin-bottom: 20px;\n                }\n                .lead-left-section {\n                    display: flex;\n                    align-items: center;\n                }\n                .lead-icon {\n                    font-size: 16px;\n                    color: white;\n                    background-color: #10b981;\n                    padding: 8px;\n                    border-radius: 4px;\n                    margin-right: 12px;\n                    line-height: 1;\n                }\n                .lead-badge {\n                    background-color: #dcfce7;\n                    color: #166534;\n                    padding: 4px 8px;\n                    border-radius: 4px;\n                    font-size: 12px;\n                    font-weight: 600;\n                    margin-right: 12px;\n                }\n                .lead-name {\n                    font-size: 20px;\n                    font-weight: 600;\n                    color: #111827;\n                }\n                .lead-actions {\n                    display: flex;\n                    gap: 8px;\n                }\n                .action-btn {\n                    padding: 8px 16px;\n                    border: 1px solid #d1d5db;\n                    border-radius: 6px;\n                    background: white;\n                    color: #374151;\n                    font-size: 14px;\n                    cursor: pointer;\n                    transition: all 0.2s;\n                }\n                .action-btn:hover {\n                    background: #f9fafb;\n                    border-color: #9ca3af;\n                }\n                .action-btn.primary {\n                    background: #3b82f6;\n                    color: white;\n                    border-color: #3b82f6;\n                }\n                .action-btn.primary:hover {\n                    background: #2563eb;\n                }\n                .lead-details-grid {\n                    display: grid;\n                    grid-template-columns: repeat(4, 1fr);\n                    gap: 20px;\n                    margin-bottom: 20px;\n                }\n                .detail-item {\n                    display: flex;\n                    flex-direction: column;\n                }\n                .detail-label {\n                    font-size: 14px;\n                    color: #6b7280;\n                    margin-bottom: 4px;\n                    font-weight: 500;\n                }\n                .detail-value {\n                    font-size: 14px;\n                    color: #111827;\n                    font-weight: 600;\n                }\n               \n                \n              \n                .funnel-progress-container {\n                    display: flex;\n                    width: 100%;\n                    height: 50px;\n                    margin: 20px 0;\n                    position: relative;\n                    background: white;\n                }\n                \n                .funnel-segment {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    position: relative;\n                    flex: 1;\n                    height: 100%;\n                    background: #e5e7eb;\n                    color: #6b7280;\n                    font-size: 14px;\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    margin-right: 2px;\n                }\n                \n                \n                .funnel-segment .segment-text {\n                    opacity: 1;\n                    transition: opacity 0.3s ease;\n                }\n                \n               \n                .funnel-segment .segment-checkmark {\n                    opacity: 0;\n                    position: absolute;\n                    transition: opacity 0.3s ease;\n                }\n                \n               \n                .funnel-segment.completed .segment-checkmark,\n                .funnel-segment.active .segment-checkmark {\n                    opacity: 1;\n                }\n                \n                .funnel-segment.completed .segment-text,\n                .funnel-segment.active .segment-text {\n                    opacity: 0;\n                }\n                \n               \n                .funnel-segment:hover .segment-text {\n                    opacity: 1;\n                }\n                \n                .funnel-segment:hover .segment-checkmark {\n                    opacity: 0;\n                }\n                \n              \n                .funnel-segment:not(:last-child) {\n                    clip-path: polygon(0% 0%, calc(100% - 20px) 0%, 100% 50%, calc(100% - 20px) 100%, 0% 100%, 20px 50%);\n                }\n                \n                .funnel-segment:first-child {\n                    clip-path: polygon(0% 0%, calc(100% - 20px) 0%, 100% 50%, calc(100% - 20px) 100%, 0% 100%);\n                    border-radius: 6px 0 0 6px;\n                }\n                \n                .funnel-segment:last-child {\n                    clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%, 20px 50%);\n                    border-radius: 0 6px 6px 0;\n                    margin-right: 0;\n                }\n                \n                \n                .funnel-segment.completed {\n                    background: #10b981;\n                    color: white;\n                    box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);\n                }\n                \n            \n                .funnel-segment.active {\n                    background: #3b82f6;\n                    color: white;\n                    box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4);\n                    transform: scale(1.02);\n                }\n                \n              \n                .funnel-segment.converted {\n                    background: white;\n                    color: #374151;\n                    border: 2px solid #d1d5db;\n                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n                }\n\n                .funnel-segment:hover {\n                    transform: translateY(-1px);\n                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n                }\n                \n                .funnel-segment.completed:hover {\n                    box-shadow: 0 4px 8px rgba(16, 185, 129, 0.4);\n                }\n                \n              \n                .mark-complete-btn {\n                    background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n                    color: white;\n                    text-align: center;\n                    padding: 15px;\n                    border-radius: 8px;\n                    font-weight: 600;\n                    cursor: pointer;\n                    margin-top: 10px;\n                    user-select: none;\n                    transition: all 0.3s ease;\n                    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);\n                }\n                \n                .mark-complete-btn:hover {\n                    background: linear-gradient(135deg, #2563eb, #1e40af);\n                    transform: translateY(-1px);\n                    box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4);\n                }\n            </style>\n            \n            <div class=\"custom-lead-header\">\n                <div class=\"lead-title-bar\">\n                    <div class=\"lead-left-section\">\n                        <div class=\"lead-icon\">★</div>\n                        <div class=\"lead-badge\">Lead</div>\n                        <div class=\"lead-name\">${frm.doc.salutation || \"\"} ${frm.doc.lead_name || \"\"}</div>\n                    </div>\n                  \n                </div>\n                <div class=\"lead-details-grid\">\n                    <div class=\"detail-item\">\n                        <span class=\"detail-label\">Company</span>\n                        <span class=\"detail-value\">${frm.doc.company_name || \"Octa Private Limited\"}</span>\n                    </div>\n                    <div class=\"detail-item\">\n                        <span class=\"detail-label\">Designation</span>\n                        <span class=\"detail-value\">${frm.doc.custom_designation || \"Manager - operations\"}</span>\n                    </div>\n                    <div class=\"detail-item\">\n                        <span class=\"detail-label\">Phone</span>\n                        <span class=\"detail-value\">${frm.doc.phone || \"9123456789\"}</span>\n                    </div>\n                    <div class=\"detail-item\">\n                        <span class=\"detail-label\">Email</span>\n                        <span class=\"detail-value\">${frm.doc.email_id || \"hr_operations@youstrong.in\"}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"funnel-progress-container\">\n        `\n\n    statuses.forEach((status, index) => {\n      let segment_class = \"\"\n      let tooltip_text = \"\"\n\n      if (index < current_status_index) {\n        segment_class = \"completed\"\n        tooltip_text = `${status} - Completed`\n      } else if (index === current_status_index) {\n        if (status === \"Unqualified\") {\n          segment_class = \"active\"\n        } else if (status === \"Converted\") {\n          segment_class = \"converted\"\n        } else {\n          segment_class = \"completed\"\n        }\n        tooltip_text = `${status} - Current Stage`\n      } else {\n        if (status === \"Converted\") {\n          segment_class = \"converted\"\n        }\n        tooltip_text = `${status} - Pending`\n      }\n\n      const showCheckmark = index <= current_status_index && status !== \"Converted\"\n      html += `\n        <div class=\"funnel-segment ${segment_class}\" data-tooltip=\"${tooltip_text}\">\n          ${showCheckmark ? '<span class=\"segment-checkmark\">✓</span>' : \"\"}\n          <span class=\"segment-text\">${status}</span>\n        </div>\n      `\n    })\n\n    html += \"</div>\"\n\n    if (!is_last_status) {\n      html += `<div class=\"mark-complete-btn\">✓ Mark Status as Complete</div>`\n    }\n\n    frm.dashboard.clear_headline()\n    frm.dashboard.set_headline(html)\n\n    $(document).on(\"click\", \".mark-complete-btn\", () => {\n      const next_status_index = current_status_index + 1\n      if (next_status_index < statuses.length) {\n        const next_status = statuses[next_status_index]\n        frm.set_value(\"status\", next_status)\n        frm.save()\n      }\n    })\n  },\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Opportunity",
  "enabled": 1,
  "modified": "2025-08-21 14:12:30.959322",
  "module": null,
  "name": "progess",
  "script": "const frappe = window.frappe\nconst $ = window.$\n\nfrappe.ui.form.on(\"Opportunity\", {\n  refresh: (frm) => {\n    const statuses = [\n      \"Introduction\",\n      \"Discussion\",\n      \"Proposal\",\n      \"Negotiation\",\n      \"Agreement\",\n      \"Closed Won\",\n      \"Closed Lost\"\n    ]\n\n    const current_status = frm.doc.status\n    const current_status_index = statuses.indexOf(current_status)\n    const is_last_status = current_status_index === statuses.length - 1\n\n    let html = `\n            <style>\n                /* Design same as before */\n                .custom-lead-header \n                { background-color: white; \n                padding: 20px; \n                border-radius: 8px; border: 1px solid #e5e7eb; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 20px; }\n                .lead-title-bar { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }\n                .lead-left-section { display: flex; align-items: center; }\n                .lead-icon { font-size: 16px; color: white; background-color: #10b981; padding: 8px; border-radius: 4px; margin-right: 12px; line-height: 1; }\n                .lead-badge { background-color: #dcfce7; color: #166534; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600; margin-right: 12px; }\n                .lead-name { font-size: 20px; font-weight: 600; color: #111827; }\n                .lead-details-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 20px; }\n                .detail-item { display: flex; flex-direction: column; }\n                .detail-label { font-size: 14px; color: #6b7280; margin-bottom: 4px; font-weight: 500; }\n                .detail-value { font-size: 14px; color: #111827; font-weight: 600; }\n\n                .funnel-progress-container { display: flex; width: 100%; height: 50px; margin: 20px 0; position: relative; background: white; }\n                .funnel-segment { display: flex; align-items: center; justify-content: center; position: relative; flex: 1; height: 100%; background: #e5e7eb; color: #6b7280; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-right: 2px; }\n                .funnel-segment .segment-text { opacity: 1; transition: opacity 0.3s ease; }\n                .funnel-segment .segment-checkmark { opacity: 0; position: absolute; transition: opacity 0.3s ease; }\n                .funnel-segment.completed .segment-checkmark, .funnel-segment.active .segment-checkmark { opacity: 1; }\n                .funnel-segment.completed .segment-text, .funnel-segment.active .segment-text { opacity: 0; }\n                .funnel-segment:not(:last-child) { clip-path: polygon(0% 0%, calc(100% - 20px) 0%, 100% 50%, calc(100% - 20px) 100%, 0% 100%, 20px 50%); }\n                .funnel-segment:first-child { clip-path: polygon(0% 0%, calc(100% - 20px) 0%, 100% 50%, calc(100% - 20px) 100%, 0% 100%); border-radius: 6px 0 0 6px; }\n                .funnel-segment:last-child { clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%, 20px 50%); border-radius: 0 6px 6px 0; margin-right: 0; }\n\n                .funnel-segment.completed { background: #10b981; color: white; box-shadow: 0 2px 4px rgba(16,185,129,0.3); }\n                .funnel-segment.active { background: #3b82f6; color: white; box-shadow: 0 2px 6px rgba(59,130,246,0.4); transform: scale(1.02); }\n                .funnel-segment:hover { transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }\n                .funnel-segment.completed:hover { box-shadow: 0 4px 8px rgba(16,185,129,0.4); }\n\n                .mark-complete-btn { background: linear-gradient(135deg,#3b82f6,#1d4ed8); color: white; text-align: center; padding: 15px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 10px; user-select: none; transition: all 0.3s ease; box-shadow: 0 2px 4px rgba(59,130,246,0.3); }\n                .mark-complete-btn:hover { background: linear-gradient(135deg,#2563eb,#1e40af); transform: translateY(-1px); box-shadow: 0 4px 8px rgba(59,130,246,0.4); }\n            </style>\n\n            <div class=\"custom-lead-header\">\n                <div class=\"lead-title-bar\">\n                    <div class=\"lead-left-section\">\n                        <div class=\"lead-icon\">★</div>\n                        <div class=\"lead-badge\">Opportunity</div>\n                        <div class=\"lead-name\">${frm.doc.opportunity_from || \"\"} ${frm.doc.customer_name || \"\"}</div>\n                    </div>\n                </div>\n                <div class=\"lead-details-grid\">\n                    <div class=\"detail-item\"><span class=\"detail-label\">Company</span><span class=\"detail-value\">${frm.doc.company_name || \"Octa Private Limited\"}</span></div>\n                    <div class=\"detail-item\"><span class=\"detail-label\">Designation</span><span class=\"detail-value\">${frm.doc.contact_designation || \"Manager - operations\"}</span></div>\n                    <div class=\"detail-item\"><span class=\"detail-label\">Phone</span><span class=\"detail-value\">${frm.doc.phone || \"9123456789\"}</span></div>\n                    <div class=\"detail-item\"><span class=\"detail-label\">Email</span><span class=\"detail-value\">${frm.doc.email_id || \"hr_operations@youstrong.in\"}</span></div>\n                </div>\n            </div>\n\n            <div class=\"funnel-progress-container\">\n        `\n\n    statuses.forEach((status, index) => {\n      let segment_class = \"\"\n      let tooltip_text = \"\"\n\n      if (index < current_status_index) {\n        segment_class = \"completed\"\n        tooltip_text = `${status} - Completed`\n      } else if (index === current_status_index) {\n        if (status === \"Closed Lost\") {\n          segment_class = \"active\"\n        } else if (status === \"Closed Won\") {\n          // ✅ Active hone par green ho jaye\n          segment_class = \"completed\"\n        } else {\n          segment_class = \"completed\"\n        }\n        tooltip_text = `${status} - Current Stage`\n      } else {\n        tooltip_text = `${status} - Pending`\n      }\n\n      const showCheckmark = index <= current_status_index\n      html += `\n        <div class=\"funnel-segment ${segment_class}\" data-tooltip=\"${tooltip_text}\">\n          ${showCheckmark ? '<span class=\"segment-checkmark\">✓</span>' : \"\"}\n          <span class=\"segment-text\">${status}</span>\n        </div>\n      `\n    })\n\n    html += \"</div>\"\n\n    if (!is_last_status) {\n      html += `<div class=\"mark-complete-btn\">✓ Mark Status as Complete</div>`\n    }\n\n    frm.dashboard.clear_headline()\n    frm.dashboard.set_headline(html)\n\n    $(document).on(\"click\", \".mark-complete-btn\", () => {\n      const next_status_index = current_status_index + 1\n      if (next_status_index < statuses.length) {\n        const next_status = statuses[next_status_index]\n        frm.set_value(\"status\", next_status)\n        frm.save()\n      }\n    })\n  },\n})\n",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Ride Order",
  "enabled": 0,
  "modified": "2025-08-25 01:37:43.353026",
  "module": null,
  "name": "test",
  "script": "frappe.ui.form.on('Ride Order', {\n\trefresh(frm) {\n\t\t// your code here\n\t}\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Sample Entry",
  "enabled": 1,
  "modified": "2025-08-28 17:49:46.546600",
  "module": null,
  "name": "Sample Entry",
  "script": "frappe.ui.form.on('Sample Entry', {\n    type_of_sample: function(frm) {\n        if (frm.doc.type_of_sample) {\n            switch (frm.doc.type_of_sample) {\n                case 'Internal Sample':\n                case 'Receipt - Packing Material':\n                case 'Blending - Premix':\n                case 'Filling Line Tea Break Sample':\n                case 'Filling Line Lunch Break Sample':\n                case 'Filling Line End Break Sample':\n                case 'Filling Line Break Sample':\n                case 'Tanker Flushing':\n                case 'Other':\n                case 'Empty Tanker IN':\n                    frm.set_value('retention_period', 'NA');\n                    break;\n                case 'Receipt - SFG':\n                case 'Blending':\n                case 'First Filled Sample':\n                case 'Lab Blend':\n                case 'Bulk Filling Tanker Out':\n                    frm.set_value('retention_period', '1 Year');\n                    break;\n                case 'Receipt - Additive':\n                    frm.set_value('retention_period', '06 Months');\n                    break;\n                case 'Reciept- Base oil':\n                case 'Blending Kettle Flushing':\n                case 'Storage Tank flushing':\n                    frm.set_value('retention_period', '03 Months');\n                    break;\n                default:\n                    frm.set_value('retention_period', 'NA');\n            }\n        }\n    }\n});",
  "view": "Form"
 }
]